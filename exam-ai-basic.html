<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AIåŸºæœ¬æ¤œå®š æ¨¡æ“¬è©¦é¨“ | privatellm.jp</title>
<meta name="description" content="AIåŸºæœ¬æ¤œå®šã®æœ¬ç•ªå½¢å¼æ¨¡æ“¬è©¦é¨“ã€‚20å•ãƒ»30åˆ†ãƒ»è‡ªå‹•æ¡ç‚¹ã€‚åˆæ ¼åŸºæº–70%ï¼ˆ14å•ï¼‰ã€‚ç„¡æ–™ã€‚">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&family=Barlow:wght@400;700;800&family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{--navy:#0A1628;--blue:#1246AA;--cyan:#00C8E0;--gold:#E8B84B;--green:#06C755;--red:#E03030;--white:#F5F7FA;--gray:#8892A4;--card:#111D35;--accent:#3B82F6;}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
body{background:var(--navy);color:var(--white);font-family:'Noto Sans JP',sans-serif;min-height:100vh;}
.header{background:rgba(10,22,40,0.95);border-bottom:1px solid rgba(59,130,246,0.2);padding:1rem 2rem;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:100;backdrop-filter:blur(12px);}
.logo{font-family:'Barlow',sans-serif;font-weight:800;font-size:1rem;color:var(--accent);text-decoration:none;}
.logo span{color:var(--white);}
.timer-wrap{display:flex;align-items:center;gap:0.8rem;}
.timer-label{font-family:'IBM Plex Mono',monospace;font-size:0.75rem;color:var(--gray);}
.timer{font-family:'IBM Plex Mono',monospace;font-size:1.4rem;font-weight:600;color:var(--accent);min-width:60px;text-align:right;}
.timer.warning{color:var(--gold);}
.timer.danger{color:var(--red);animation:blink 1s ease-in-out infinite;}
@keyframes blink{0%,100%{opacity:1;}50%{opacity:0.5;}}
.progress-bar-wrap{flex:1;max-width:160px;height:6px;background:rgba(255,255,255,0.08);border-radius:3px;overflow:hidden;}
.progress-bar{height:100%;background:linear-gradient(90deg,var(--accent),var(--cyan));border-radius:3px;transition:width 0.3s;}
.screen{display:none;padding:2rem;}
.screen.active{display:block;}
.start-inner{max-width:640px;margin:0 auto;text-align:center;padding:3rem 1rem;}
.start-badge{display:inline-flex;align-items:center;gap:0.5rem;background:rgba(59,130,246,0.12);border:1px solid rgba(59,130,246,0.3);border-radius:100px;padding:0.4rem 1rem;font-family:'IBM Plex Mono',monospace;font-size:0.78rem;color:var(--accent);letter-spacing:0.1em;margin-bottom:1.5rem;}
.start-inner h1{font-family:'Barlow',sans-serif;font-weight:800;font-size:clamp(1.8rem,4vw,2.6rem);line-height:1.1;margin-bottom:0.8rem;}
.start-inner h1 em{font-style:normal;color:var(--accent);}
.start-inner p{color:var(--gray);font-size:0.95rem;line-height:1.9;margin-bottom:2rem;}
.info-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin:2rem 0;text-align:left;}
.info-card{background:var(--card);border:1px solid rgba(255,255,255,0.07);border-radius:10px;padding:1.2rem;}
.info-label{font-family:'IBM Plex Mono',monospace;font-size:0.7rem;color:var(--accent);letter-spacing:0.1em;margin-bottom:0.4rem;}
.info-val{font-family:'Barlow',sans-serif;font-weight:700;font-size:1.3rem;color:var(--white);}
.info-sub{font-size:0.8rem;color:var(--gray);margin-top:0.2rem;}
.btn-start{background:var(--accent);color:var(--white);font-family:'Barlow',sans-serif;font-weight:800;font-size:1.1rem;padding:1rem 3rem;border:none;border-radius:8px;cursor:pointer;transition:transform 0.2s,box-shadow 0.2s;width:100%;max-width:400px;}
.btn-start:hover{transform:translateY(-2px);box-shadow:0 8px 32px rgba(59,130,246,0.35);}
.exam-inner{max-width:760px;margin:0 auto;}
.q-nav{display:flex;flex-wrap:wrap;gap:0.4rem;margin-bottom:2rem;background:var(--card);border-radius:10px;padding:1rem;}
.q-nav-label{width:100%;font-family:'IBM Plex Mono',monospace;font-size:0.7rem;color:var(--gray);letter-spacing:0.1em;margin-bottom:0.5rem;}
.q-dot{width:34px;height:34px;border-radius:6px;border:1px solid rgba(255,255,255,0.15);background:transparent;color:var(--gray);font-family:'IBM Plex Mono',monospace;font-size:0.75rem;cursor:pointer;transition:all 0.2s;display:flex;align-items:center;justify-content:center;}
.q-dot:hover{border-color:var(--accent);color:var(--accent);}
.q-dot.answered{background:rgba(59,130,246,0.3);border-color:var(--accent);color:var(--white);}
.q-dot.current{background:var(--accent);border-color:var(--accent);color:var(--white);font-weight:700;}
.question-card{background:var(--card);border:1px solid rgba(255,255,255,0.08);border-radius:16px;padding:2rem;margin-bottom:1.5rem;}
.q-meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;}
.q-num{font-family:'IBM Plex Mono',monospace;font-size:0.8rem;color:var(--accent);}
.q-category{font-family:'IBM Plex Mono',monospace;font-size:0.72rem;background:rgba(59,130,246,0.15);color:#7AABFF;border:1px solid rgba(59,130,246,0.3);border-radius:100px;padding:0.2rem 0.7rem;}
.q-text{font-size:1.05rem;line-height:1.8;color:var(--white);margin-bottom:1.8rem;font-weight:500;}
.options{display:flex;flex-direction:column;gap:0.8rem;}
.option{display:flex;align-items:flex-start;gap:1rem;background:rgba(255,255,255,0.03);border:1.5px solid rgba(255,255,255,0.1);border-radius:10px;padding:1rem 1.2rem;cursor:pointer;transition:all 0.2s;}
.option:hover{border-color:rgba(59,130,246,0.4);background:rgba(59,130,246,0.05);}
.option.selected{border-color:var(--accent);background:rgba(59,130,246,0.12);}
.option-key{font-family:'IBM Plex Mono',monospace;font-weight:600;font-size:0.9rem;color:var(--accent);flex-shrink:0;width:20px;}
.option-text{font-size:0.95rem;line-height:1.7;color:var(--gray);}
.option.selected .option-text{color:var(--white);}
.exam-nav{display:flex;gap:1rem;justify-content:space-between;align-items:center;flex-wrap:wrap;}
.btn-nav{font-family:'Barlow',sans-serif;font-weight:700;font-size:0.95rem;padding:0.8rem 1.8rem;border-radius:8px;cursor:pointer;transition:all 0.2s;border:none;}
.btn-prev{background:transparent;color:var(--gray);border:1px solid rgba(255,255,255,0.15);}
.btn-prev:hover{color:var(--white);border-color:var(--white);}
.btn-next{background:var(--accent);color:var(--white);}
.btn-next:hover{background:var(--cyan);color:var(--navy);}
.btn-submit{background:var(--gold);color:var(--navy);}
.q-count{font-family:'IBM Plex Mono',monospace;font-size:0.82rem;color:var(--gray);}
.result-inner{max-width:680px;margin:0 auto;text-align:center;padding:2rem 1rem;}
.result-circle{width:170px;height:170px;border-radius:50%;margin:0 auto 2rem;display:flex;flex-direction:column;align-items:center;justify-content:center;}
.result-circle.pass{background:radial-gradient(circle,rgba(59,130,246,0.2),rgba(10,22,40,0.8));border:4px solid var(--accent);box-shadow:0 0 48px rgba(59,130,246,0.3);}
.result-circle.fail{background:radial-gradient(circle,rgba(224,48,48,0.15),rgba(10,22,40,0.8));border:4px solid var(--red);}
.result-score{font-family:'Barlow',sans-serif;font-weight:800;font-size:3.5rem;line-height:1;}
.result-score.pass{color:var(--accent);}
.result-score.fail{color:var(--red);}
.result-total{font-size:0.9rem;color:var(--gray);margin-top:0.3rem;}
.result-verdict{font-family:'Barlow',sans-serif;font-weight:800;font-size:1.8rem;margin-bottom:0.5rem;}
.result-verdict.pass{color:var(--accent);}
.result-verdict.fail{color:var(--red);}
.result-msg{color:var(--gray);font-size:0.95rem;line-height:1.8;margin-bottom:2rem;}
.result-breakdown{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin:2rem 0;text-align:left;}
.breakdown-card{background:var(--card);border:1px solid rgba(255,255,255,0.07);border-radius:10px;padding:1.2rem;}
.breakdown-label{font-family:'IBM Plex Mono',monospace;font-size:0.68rem;color:var(--accent);letter-spacing:0.08em;margin-bottom:0.4rem;}
.breakdown-val{font-family:'Barlow',sans-serif;font-weight:700;font-size:1.3rem;}
.breakdown-sub{font-size:0.78rem;color:var(--gray);margin-top:0.2rem;}
.review-section{text-align:left;margin-top:2.5rem;}
.review-title{font-family:'Barlow',sans-serif;font-weight:800;font-size:1.2rem;margin-bottom:1rem;padding-bottom:0.5rem;border-bottom:1px solid rgba(59,130,246,0.2);}
.review-item{background:var(--card);border-radius:10px;padding:1.2rem;margin-bottom:1rem;border-left:3px solid transparent;}
.review-item.correct{border-left-color:var(--green);}
.review-item.incorrect{border-left-color:var(--red);}
.review-q{font-size:0.9rem;line-height:1.7;margin-bottom:0.8rem;}
.review-answers{font-size:0.82rem;display:flex;flex-direction:column;gap:0.4rem;}
.review-your{color:var(--red);}
.review-your.ok{color:var(--green);}
.review-correct{color:var(--green);}
.review-explain{font-size:0.82rem;color:var(--gray);margin-top:0.6rem;line-height:1.6;padding:0.6rem;background:rgba(255,255,255,0.03);border-radius:6px;}
.result-actions{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;margin-top:2rem;}
.btn-retry{background:var(--accent);color:var(--white);font-family:'Barlow',sans-serif;font-weight:800;font-size:1rem;padding:0.9rem 2rem;border:none;border-radius:8px;cursor:pointer;}
.btn-line-result{background:#06C755;color:var(--navy);font-family:'Barlow',sans-serif;font-weight:800;font-size:1rem;padding:0.9rem 2rem;border:none;border-radius:8px;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;gap:0.5rem;}
.next-badge{display:inline-flex;align-items:center;gap:0.5rem;background:rgba(232,184,75,0.1);border:1px solid rgba(232,184,75,0.3);border-radius:8px;padding:0.8rem 1.2rem;font-size:0.85rem;color:var(--gold);margin-top:1rem;}
@media(max-width:600px){
  .screen{padding:0.8rem;}
  .info-grid{grid-template-columns:1fr 1fr;}
  .result-breakdown{grid-template-columns:1fr 1fr;}
  .q-dot{width:28px;height:28px;font-size:0.68rem;}
  .question-card{padding:1rem;}
  .q-text{font-size:0.95rem;}
  .option{padding:0.75rem 0.9rem;}
  .exam-nav{flex-direction:column;}
  .btn-nav{width:100%;text-align:center;}
  .result-actions{flex-direction:column;}
  .btn-retry,.btn-line-result{width:100%;justify-content:center;}
}

/* ===== ã‚¢ãƒƒãƒ—ã‚»ãƒ«èª˜å°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ ===== */
.upsell-section{background:linear-gradient(135deg,rgba(18,70,170,0.15),rgba(0,200,224,0.08));border:1px solid rgba(0,200,224,0.2);border-radius:16px;padding:2rem;margin:2rem 0;text-align:center;}
.upsell-label{font-family:'IBM Plex Mono',monospace;font-size:0.7rem;color:var(--cyan);letter-spacing:0.15em;margin-bottom:0.8rem;}
.upsell-title{font-family:'Barlow',sans-serif;font-weight:800;font-size:1.3rem;color:var(--white);margin-bottom:0.5rem;}
.upsell-desc{font-size:0.88rem;color:var(--gray);margin-bottom:1.5rem;line-height:1.8;}
.upsell-cards{display:grid;gap:1rem;margin-bottom:1.5rem;}
.upsell-card{background:rgba(10,22,40,0.6);border:1px solid rgba(255,255,255,0.1);border-radius:12px;padding:1.2rem;text-align:left;display:flex;gap:1rem;align-items:flex-start;text-decoration:none;transition:all 0.2s;cursor:pointer;}
.upsell-card:hover{border-color:var(--cyan);background:rgba(0,200,224,0.08);transform:translateY(-2px);}
.upsell-card-icon{font-size:2rem;flex-shrink:0;}
.upsell-card-body{}
.upsell-card-name{font-family:'Barlow',sans-serif;font-weight:800;font-size:1rem;color:var(--white);margin-bottom:0.3rem;}
.upsell-card-desc{font-size:0.82rem;color:var(--gray);line-height:1.6;}
.upsell-card-price{margin-top:0.4rem;font-family:'IBM Plex Mono',monospace;font-size:0.78rem;}
.upsell-card-price .free{color:var(--green);font-weight:700;}
.upsell-card-price .paid{color:var(--gold);}
.upsell-card-arrow{color:var(--cyan);font-size:1.2rem;margin-left:auto;align-self:center;flex-shrink:0;}
@media(max-width:600px){
  .upsell-section{padding:1.2rem;}
  .upsell-cards{gap:0.7rem;}
  .upsell-card{padding:0.9rem;}
}

</style>
</head>
<body>
<header class="header">
  <a href="https://privatellm.jp" class="logo"><img src="PrivateLLMlogo.jpg" alt="PrivateLLM.jp" style="height:30px;width:auto;vertical-align:middle;"> <span style="font-size:0.8rem;opacity:0.7;">AIåŸºæœ¬æ¤œå®š</span></a>
  <div class="timer-wrap">
    <div class="progress-bar-wrap" id="progressBar" style="display:none;"><div class="progress-bar" id="progressFill" style="width:0%"></div></div>
    <span class="timer-label" id="timerLabel" style="display:none;">æ®‹ã‚Š</span>
    <span class="timer" id="timer" style="display:none;">30:00</span>
  </div>
</header>

<div class="screen active" id="screenStart">
  <div class="start-inner">
    <div class="start-badge">ğŸ¯ æ¨¡æ“¬è©¦é¨“ â€” æœ¬ç•ªå½¢å¼ãƒ»ç„¡æ–™</div>
    <h1>AIåŸºæœ¬æ¤œå®š<br><em>æ¨¡æ“¬è©¦é¨“</em></h1>
    <p>ãƒ­ãƒ¼ã‚«ãƒ«AIã¨ã‚¯ãƒ©ã‚¦ãƒ‰AIã®é•ã„ã‚’ä¸­å¿ƒã«ã€AIã®åŸºç¤çŸ¥è­˜ã‚’å•ã„ã¾ã™ã€‚<br>åˆæ ¼åŸºæº–ã¯<strong style="color:var(--white)">70%ä»¥ä¸Šï¼ˆ20å•ä¸­14å•æ­£è§£ï¼‰</strong>ã§ã™ã€‚</p>
    <div class="info-grid">
      <div class="info-card"><div class="info-label">å‡ºé¡Œæ•°</div><div class="info-val">20å•</div><div class="info-sub">4æŠãƒ»å…¨å•å¿…ç­”</div></div>
      <div class="info-card"><div class="info-label">åˆ¶é™æ™‚é–“</div><div class="info-val">30åˆ†</div><div class="info-sub">æ°—è»½ã«æŒ‘æˆ¦ã§ãã‚‹</div></div>
      <div class="info-card"><div class="info-label">åˆæ ¼åŸºæº–</div><div class="info-val">14å•ä»¥ä¸Š</div><div class="info-sub">æ­£è§£ç‡70%ä»¥ä¸Š</div></div>
      <div class="info-card"><div class="info-label">å—é¨“æ–™</div>
        <div class="info-val">
          <span style="text-decoration:line-through;color:var(--gray);font-size:0.85rem;margin-right:0.4rem;">Â¥3,000</span>
          <span style="color:var(--green);font-weight:800;">ç„¡æ–™</span>
        </div>
        <div class="info-sub" style="color:var(--green);">ğŸ æœŸé–“é™å®šç„¡æ–™</div>
      </div>
    </div>
    <div style="display:flex;gap:0.8rem;justify-content:center;flex-wrap:wrap;margin:1rem 0 1.5rem;">
      <a href="AIåŸºæœ¬æ¤œå®šã‚·ãƒ©ãƒã‚¹v1.0.pdf" download style="display:inline-flex;align-items:center;gap:0.4rem;font-family:'IBM Plex Mono',monospace;font-size:0.78rem;color:#3B82F6;text-decoration:none;border:1px solid rgba(59,130,246,0.3);border-radius:6px;padding:0.45rem 1rem;background:rgba(0,0,0,0.2);">
        ğŸ“„ ã‚·ãƒ©ãƒã‚¹ PDFï¼ˆç„¡æ–™ï¼‰
      </a>
      <a href="https://privatellm.jp#syllabus" target="_blank" style="display:inline-flex;align-items:center;gap:0.4rem;font-family:'IBM Plex Mono',monospace;font-size:0.78rem;color:#06C755;text-decoration:none;border:1px solid rgba(6,199,85,0.3);border-radius:6px;padding:0.45rem 1rem;background:rgba(0,0,0,0.2);">
        ğŸ“š å…¬å¼ãƒ†ã‚­ã‚¹ãƒˆï¼ˆç„¡æ–™ï¼‰
      </a>
    </div>
    <button class="btn-start" onclick="startExam()">æ¨¡æ“¬è©¦é¨“ã‚’é–‹å§‹ã™ã‚‹ â†’</button>
    <p style="margin-top:1rem;font-size:0.82rem;color:#4A5568;">â€» å›ç­”ã¯ãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å®Œçµã€‚å¤–éƒ¨ã«é€ä¿¡ã•ã‚Œã¾ã›ã‚“ã€‚</p>
  </div>
</div>

<div class="screen" id="screenExam">
  <div class="exam-inner">
    <div class="q-nav" id="qNav"></div>
    <div class="question-card" id="questionCard"></div>
    <div class="exam-nav">
      <button class="btn-nav btn-prev" id="btnPrev" onclick="prevQ()">â† å‰ã¸</button>
      <span class="q-count" id="qCount"></span>
      <button class="btn-nav btn-next" id="btnNext" onclick="nextQ()">æ¬¡ã¸ â†’</button>
      <button class="btn-nav btn-submit" id="btnSubmit" onclick="confirmSubmit()" style="display:none;">æ¡ç‚¹ã™ã‚‹ âœ“</button>
    </div>
  </div>
</div>

<div class="screen" id="screenResult">
  <div class="result-inner">
    <div class="result-circle" id="resultCircle">
      <span class="result-score" id="resultScore"></span>
      <span class="result-total">/ 20å•</span>
    </div>
    <div class="result-verdict" id="resultVerdict"></div>
    <div class="result-msg" id="resultMsg"></div>
    <div class="result-breakdown">
      <div class="breakdown-card"><div class="breakdown-label">æ­£è§£æ•°</div><div class="breakdown-val" id="bdCorrect">â€”</div><div class="breakdown-sub">å•</div></div>
      <div class="breakdown-card"><div class="breakdown-label">æ­£è§£ç‡</div><div class="breakdown-val" id="bdRate">â€”</div><div class="breakdown-sub">ï¼ˆåˆæ ¼ï¼š70%ï¼‰</div></div>
      <div class="breakdown-card"><div class="breakdown-label">æ‰€è¦æ™‚é–“</div><div class="breakdown-val" id="bdTime">â€”</div><div class="breakdown-sub">ï¼ˆåˆ¶é™ï¼š30åˆ†ï¼‰</div></div>
    </div>
    <div id="nextStep"></div>
    
      <!-- ã‚¢ãƒƒãƒ—ã‚»ãƒ«èª˜å°ï¼ˆåˆæ ¼æ™‚ã®ã¿è¡¨ç¤ºï¼‰ -->
      <div class="upsell-section" id="upsellSection" style="display:none;">
        <div class="upsell-label">NEXT STEP</div>
        <div class="upsell-title">ğŸš€ æ¬¡ã¯PrivateLLMæ§‹ç¯‰å£«ã«æŒ‘æˆ¦ã—ã‚ˆã†</div>
        <div class="upsell-desc">AIåŸºæœ¬æ¤œå®šåˆæ ¼è€…ã®æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã€‚<br>ç¤¾å†…AIã‚’è‡ªåˆ†ã§æ§‹ç¯‰ãƒ»é‹ç”¨ã§ãã‚‹å°‚é–€å®¶ã¨ã—ã¦ã€åœ§å€’çš„ãªå·®åˆ¥åŒ–ã‚’ã€‚</div>
        <div class="upsell-cards">
          <a href="exam-level3.html" class="upsell-card" style="border-color:rgba(232,184,75,0.4);">
            <div class="upsell-card-icon">ğŸ†</div>
            <div class="upsell-card-body">
              <div class="upsell-card-name">PrivateLLMæ§‹ç¯‰å£« 3ç´š</div>
              <div class="upsell-card-desc">ãƒ‡ãƒ¼ã‚¿ã‚’å¤–éƒ¨ã«å‡ºã•ãªã„ç¤¾å†…AIæ§‹ç¯‰ã‚¹ã‚­ãƒ«ã‚’è¨¼æ˜ã€‚AIåŸºæœ¬æ¤œå®šã®çŸ¥è­˜ãŒãã®ã¾ã¾æ´»ãã‚‹ï¼40å•ãƒ»60åˆ†ã€‚</div>
              <div class="upsell-card-price"><span class="paid">å—é¨“æ–™ Â¥8,000 ï¼ èªå®šè¨¼ Â¥3,000</span></div>
            </div>
            <div class="upsell-card-arrow">â†’</div>
          </a>
          <a href="https://privatellm.jp#grades" class="upsell-card" style="border-color:rgba(18,70,170,0.4);">
            <div class="upsell-card-icon">ğŸ“‹</div>
            <div class="upsell-card-body">
              <div class="upsell-card-name">å…¨è³‡æ ¼ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚’è¦‹ã‚‹</div>
              <div class="upsell-card-desc">3ç´šâ†’2ç´šâ†’1ç´šâ†’èªå®šè¬›å¸«ã€‚ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹ã¨å„ã‚°ãƒ¬ãƒ¼ãƒ‰ã®è©³ç´°ã‚’ç¢ºèªã€‚</div>
              <div class="upsell-card-price"><span class="free">privatellm.jp ã§ç¢ºèª</span></div>
            </div>
            <div class="upsell-card-arrow">â†’</div>
          </a>
        </div>
        <a href="https://line.me/R/ti/p/@609awsbq" target="_blank" style="display:inline-flex;align-items:center;gap:0.5rem;background:#06C755;color:var(--navy);font-family:'Barlow',sans-serif;font-weight:800;font-size:0.9rem;padding:0.8rem 1.8rem;border-radius:8px;text-decoration:none;">
          ğŸŸ¢ PrivateLLMæ§‹ç¯‰å£«ã®å—ä»˜é–‹å§‹ã‚’LINEã§å—ã‘å–ã‚‹
        </a>
      </div>

    <div class="cert-section" id="certSection" style="display:none;">

      <!-- â‘  ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ -->
      <div style="text-align:center;padding:1.5rem 0 1rem;">
        <div style="font-size:3rem;margin-bottom:0.5rem;">ğŸ‰</div>
        <div style="font-family:'Barlow',sans-serif;font-weight:800;font-size:1.6rem;color:var(--white);margin-bottom:0.3rem;">åˆæ ¼ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼</div>
        <div style="font-size:0.9rem;color:var(--gray);line-height:1.7;">AIåŸºæœ¬æ¤œå®šã«åˆæ ¼ã—ã¾ã—ãŸã€‚<br>ã“ã®å®Ÿç¸¾ã‚’èªå®šè¨¼ã¨ã—ã¦è¨¼æ˜ã—ã¾ã—ã‚‡ã†ã€‚</div>
      </div>

      <!-- â‘¡ ã‚µãƒ³ãƒ—ãƒ«èªå®šè¨¼ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆã¼ã‹ã—ï¼‰ -->
      <div style="position:relative;margin:1rem 0;border-radius:12px;overflow:hidden;">
        <div style="filter:blur(3px) brightness(0.7);pointer-events:none;">
          <div class="mini-cert">
            <div class="mini-cert-header">
              <div>
                <div class="mini-cert-header-text">PRIVATE AI PROMOTION ASSOCIATION</div>
                <div class="mini-cert-header-text" style="color:rgba(255,255,255,0.4);font-size:0.7em;">ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆAIæ¨é€²å”ä¼šï¼ˆPAPAï¼‰</div>
              </div>
              <div class="mini-cert-header-logo">privatellm.jp</div>
            </div>
            <div class="mini-cert-gold-line"></div>
            <div class="mini-cert-body">
              <div class="mini-cert-label">CERTIFICATE OF ACHIEVEMENT</div>
              <div style="font-family:serif;font-size:0.65rem;color:#6B7280;margin-bottom:0.4rem;">CERTIFIED HOLDER</div>
              <div class="mini-cert-name" style="color:#C9A84C;">ã‚ãªãŸã®åå‰</div>
              <div style="width:40%;height:1px;background:linear-gradient(90deg,transparent,#C9A84C,transparent);margin:0.5rem auto;"></div>
              <div class="mini-cert-grade">
                <div class="mini-cert-grade-name">AI Basic Certification</div>
                <div class="mini-cert-grade-ja">AIåŸºæœ¬æ¤œå®š</div>
              </div>
            </div>
            <div class="mini-cert-bottom">
              <div class="mini-cert-id" id="miniId">----</div>
              <div class="mini-cert-seal" style="background:#fff;border:1px solid #1A5FCC;overflow:hidden;"><img src="PrivateLLMlogo.jpg" alt="PAPA" style="width:100%;height:100%;object-fit:contain;padding:10%;"></div>
              <div class="mini-cert-qr">â¬›</div>
            </div>
          </div>
        </div>
        <div style="position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(10,22,40,0.5);">
          <div style="background:var(--gold);color:var(--navy);font-family:'Barlow',sans-serif;font-weight:800;font-size:0.9rem;padding:0.5rem 1.5rem;border-radius:100px;margin-bottom:0.4rem;">SAMPLE</div>
          <div style="color:var(--white);font-size:0.8rem;">æ±ºæ¸ˆå¾Œã«æ°åå…¥ã‚Šã§ç™ºè¡Œã•ã‚Œã¾ã™</div>
        </div>
      </div>

      <!-- â‘¢ èªå®šè¨¼ç•ªå· -->
      <div style="background:rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.1);border-radius:10px;padding:1rem;margin:1rem 0;text-align:center;">
        <div style="font-family:'IBM Plex Mono',monospace;font-size:0.7rem;color:var(--gray);letter-spacing:0.12em;margin-bottom:0.4rem;">YOUR CERTIFICATE ID</div>
        <div class="cert-id-display" id="certIdDisplay" onclick="copyCertId()" style="margin-bottom:0.3rem;">
          <span class="cert-id-copied" id="copiedMsg">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼</span>
          <span id="certIdText" style="font-size:1.1rem;">----</span>
        </div>
        <div style="font-size:0.75rem;color:var(--gray);">â†‘ ã‚¿ãƒƒãƒ—ã§ã‚³ãƒ”ãƒ¼ ï¼ æ±ºæ¸ˆå¾Œã«å¿…è¦ã§ã™</div>
      </div>

      <!-- â‘£ ã‚¹ãƒ†ãƒƒãƒ—è¡¨ç¤º -->
      <div style="display:flex;gap:0.4rem;margin:1.2rem 0;align-items:stretch;">
        <div style="flex:1;background:rgba(6,199,85,0.1);border:1px solid rgba(6,199,85,0.3);border-radius:8px;padding:0.7rem;text-align:center;">
          <div style="font-family:'IBM Plex Mono',monospace;font-size:0.65rem;color:var(--green);margin-bottom:0.3rem;">STEP 1</div>
          <div style="font-size:0.78rem;color:var(--white);font-weight:700;">ãƒ¡ãƒ¼ãƒ«å…¥åŠ›</div>
          <div style="font-size:0.7rem;color:var(--gray);">â†“</div>
        </div>
        <div style="flex:1;background:rgba(232,184,75,0.1);border:1px solid rgba(232,184,75,0.3);border-radius:8px;padding:0.7rem;text-align:center;">
          <div style="font-family:'IBM Plex Mono',monospace;font-size:0.65rem;color:var(--gold);margin-bottom:0.3rem;">STEP 2</div>
          <div style="font-size:0.78rem;color:var(--white);font-weight:700;">Â¥3,000æ±ºæ¸ˆ</div>
          <div style="font-size:0.7rem;color:var(--gray);">â†“</div>
        </div>
        <div style="flex:1;background:rgba(0,200,224,0.1);border:1px solid rgba(0,200,224,0.3);border-radius:8px;padding:0.7rem;text-align:center;">
          <div style="font-family:'IBM Plex Mono',monospace;font-size:0.65rem;color:var(--cyan);margin-bottom:0.3rem;">STEP 3</div>
          <div style="font-size:0.78rem;color:var(--white);font-weight:700;">èªå®šè¨¼å—å–</div>
          <div style="font-size:0.7rem;color:var(--gray);">å®Œäº†</div>
        </div>
      </div>

      <!-- â‘¤ STEP1: ãƒ¡ãƒ¼ãƒ«å…¥åŠ› -->
      <div id="contactForm" style="background:rgba(6,199,85,0.05);border:2px solid rgba(6,199,85,0.3);border-radius:12px;padding:1.2rem;margin-bottom:1rem;">
        <div style="font-family:'IBM Plex Mono',monospace;font-size:0.7rem;color:var(--green);letter-spacing:0.1em;margin-bottom:0.8rem;">ğŸ“¬ STEP 1 â€• ãƒ¡ãƒ¼ãƒ«ãƒ»LINEã‚’å…¥åŠ›ï¼ˆèªå®šè¨¼ç•ªå·ã‚’é€ä¿¡ï¼‰</div>
        <input type="email" id="postEmail" placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆæ¨å¥¨ï¼‰" style="width:100%;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.15);border-radius:8px;padding:0.7rem 1rem;color:var(--white);font-size:0.9rem;margin-bottom:0.6rem;outline:none;display:block;box-sizing:border-box;" onfocus="this.style.borderColor='var(--cyan)'" onblur="this.style.borderColor='rgba(255,255,255,0.15)'">
        <input type="text" id="postLine" placeholder="LINE IDï¼ˆä»»æ„ï¼‰" style="width:100%;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.15);border-radius:8px;padding:0.7rem 1rem;color:var(--white);font-size:0.9rem;margin-bottom:0.8rem;outline:none;display:block;box-sizing:border-box;" onfocus="this.style.borderColor='#06C755'" onblur="this.style.borderColor='rgba(255,255,255,0.15)'">
        <button onclick="sendContactToGAS()" style="width:100%;background:var(--green);color:var(--navy);font-family:'Barlow',sans-serif;font-weight:800;font-size:0.95rem;padding:0.8rem;border:none;border-radius:8px;cursor:pointer;">ğŸ“¨ èªå®šè¨¼ç•ªå·ã‚’ãƒ¡ãƒ¼ãƒ«ã§å—ã‘å–ã‚‹</button>
        <div id="contactSent" style="display:none;margin-top:0.6rem;text-align:center;color:var(--green);font-size:0.85rem;">âœ… é€ä¿¡ã—ã¾ã—ãŸï¼ãƒ¡ãƒ¼ãƒ«ã‚’ã”ç¢ºèªãã ã•ã„</div>
        <div id="contactError" style="display:none;margin-top:0.6rem;text-align:center;color:#F87171;font-size:0.85rem;"></div>
      </div>

      <!-- â‘¥ STEP2: Stripeæ±ºæ¸ˆãƒœã‚¿ãƒ³ -->
      <div style="background:rgba(232,184,75,0.05);border:2px solid rgba(232,184,75,0.3);border-radius:12px;padding:1.2rem;margin-bottom:1rem;">
        <div style="font-family:'IBM Plex Mono',monospace;font-size:0.7rem;color:var(--gold);letter-spacing:0.1em;margin-bottom:0.8rem;">ğŸ’³ STEP 2 â€• èªå®šè¨¼ç™ºè¡Œæ‰‹æ•°æ–™ã‚’æ±ºæ¸ˆ</div>
        <div style="background:rgba(26,95,204,0.08);border:1px solid rgba(26,95,204,0.2);border-radius:8px;padding:0.7rem 1rem;margin-bottom:0.8rem;font-size:0.78rem;color:#7AABFF;line-height:1.7;text-align:center;">
          ğŸ’³ æ±ºæ¸ˆç”»é¢ã§ã¯ <strong style="color:var(--white);">ã€Œé¡˜ã„ç¯ã€</strong> ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€<br>
          ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆAIæ¨é€²å”ä¼šï¼ˆPAPAï¼‰ã®æ­£è¦æ±ºæ¸ˆã§ã™
        </div>
        <button class="btn-stripe" onclick="goStripe()" style="width:100%;">ğŸ† èªå®šè¨¼ã‚’ç™ºè¡Œã™ã‚‹ â€” Â¥3,000ï¼ˆç¨è¾¼ï¼‰</button>
        <div style="margin-top:0.7rem;font-size:0.75rem;color:var(--gray);text-align:center;line-height:1.7;">
          Stripeæ±ºæ¸ˆ ãƒ» ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ / Apple Pay / Google Pay å¯¾å¿œ<br>
          æ±ºæ¸ˆå¾Œ â†’ <a href="https://cert.privatellm.jp" target="_blank" style="color:var(--cyan);">cert.privatellm.jp</a> ã§èªå®šè¨¼ã‚’å—ã‘å–ã‚Šï¼ˆSTEP 3ï¼‰
        </div>
      </div>

    </div>

      <div class="result-actions">
      <button class="btn-retry" onclick="retryExam()">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ã™ã‚‹</button>
      <a href="https://line.me/R/ti/p/@609awsbq" target="_blank" class="btn-line-result">ğŸŸ¢ æœ¬è©¦é¨“ã®é€šçŸ¥ã‚’å—ã‘å–ã‚‹</a>
    </div>
    <div class="review-section">
      <div class="review-title">ğŸ“‹ è§£ç­”ãƒ»è§£èª¬</div>
      <div id="reviewList"></div>
    </div>
  </div>
</div>

<script>
const QUESTIONS = [
  {cat:"AIåŸºç¤",q:"AIã®æ­£å¼åç§°ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",opts:["Automatic Intelligence","Artificial Intelligence","Advanced Information","Applied Innovation"],ans:1,exp:"AIã¯Artificial Intelligenceï¼ˆäººå·¥çŸ¥èƒ½ï¼‰ã®ç•¥ç§°ã§ã™ã€‚äººé–“ã®çŸ¥çš„æ´»å‹•ã‚’ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§å†ç¾ã™ã‚‹æŠ€è¡“ã®ç·ç§°ã§ã™ã€‚"},
  {cat:"AIåŸºç¤",q:"ç”ŸæˆAIã®èª¬æ˜ã¨ã—ã¦æœ€ã‚‚é©åˆ‡ãªã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",opts:["ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†é¡ã™ã‚‹ã ã‘ã®AI","æ–‡ç« ãƒ»ç”»åƒãƒ»éŸ³å£°ãªã©ã®æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã§ãã‚‹AI","ã‚²ãƒ¼ãƒ ã ã‘ã§ä½¿ã‚ã‚Œã‚‹AI","ãƒ­ãƒœãƒƒãƒˆã‚’å‹•ã‹ã™ãŸã‚ã ã‘ã®AI"],ans:1,exp:"ç”ŸæˆAIã¯ãƒ†ã‚­ã‚¹ãƒˆãƒ»ç”»åƒãƒ»éŸ³å£°ãƒ»å‹•ç”»ãªã©ã®æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã§ãã‚‹AIã§ã™ã€‚ChatGPTãƒ»Midjourneyãƒ»Soraãªã©ãŒä»£è¡¨ä¾‹ã§ã™ã€‚"},
  {cat:"AIåŸºç¤",q:"LLMã®æ­£å¼åç§°ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",opts:["Large Learning Machine","Large Language Model","Local Language Module","Linear Learning Method"],ans:1,exp:"LLMã¯Large Language Modelï¼ˆå¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ï¼‰ã®ç•¥ç§°ã§ã™ã€‚è†¨å¤§ãªãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§å­¦ç¿’ã—ãŸã€æ–‡ç« ç”Ÿæˆã‚’å¾—æ„ã¨ã™ã‚‹AIãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚"},
  {cat:"AIåŸºç¤",q:"ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå¹»è¦šï¼‰ã®èª¬æ˜ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",opts:["AIãŒæ„Ÿæƒ…ã‚’æŒã¤ç¾è±¡","AIãŒäº‹å®Ÿã§ãªã„æƒ…å ±ã‚’è‡ªä¿¡æº€ã€…ã«ç”Ÿæˆã—ã¦ã—ã¾ã†ç¾è±¡","AIãŒéç†±ã—ã¦ãƒ•ãƒªãƒ¼ã‚ºã™ã‚‹ç¾è±¡","AIãŒå¤–éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«æ¥ç¶šã™ã‚‹ç¾è±¡"],ans:1,exp:"ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ã¯AIãŒå­˜åœ¨ã—ãªã„æƒ…å ±ã‚„èª¤ã£ãŸäº‹å®Ÿã‚’ç¢ºä¿¡ã‚’æŒã£ã¦ç”Ÿæˆã—ã¦ã—ã¾ã†ç¾è±¡ã§ã™ã€‚é‡è¦ãªæƒ…å ±ã¯å¿…ãšäººé–“ãŒç¢ºèªã™ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚"},
  {cat:"AIåŸºç¤",q:"æ©Ÿæ¢°å­¦ç¿’ãƒ»æ·±å±¤å­¦ç¿’ãƒ»ç”ŸæˆAIã®é–¢ä¿‚ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",opts:["ã™ã¹ã¦åŒã˜æŠ€è¡“","ç”ŸæˆAI âŠƒ æ·±å±¤å­¦ç¿’ âŠƒ æ©Ÿæ¢°å­¦ç¿’ï¼ˆç”ŸæˆAIãŒæœ€ã‚‚åºƒã„ï¼‰","æ©Ÿæ¢°å­¦ç¿’ âŠƒ æ·±å±¤å­¦ç¿’ âŠƒ ç”ŸæˆAIï¼ˆæ©Ÿæ¢°å­¦ç¿’ãŒæœ€ã‚‚åºƒã„ï¼‰","äº’ã„ã«ç„¡é–¢ä¿‚ãªæŠ€è¡“"],ans:2,exp:"æ©Ÿæ¢°å­¦ç¿’ãŒæœ€ã‚‚åºƒã„æ¦‚å¿µã§ã€æ·±å±¤å­¦ç¿’ã¯ãã®ä¸€éƒ¨ã€ç”ŸæˆAIã¯æ·±å±¤å­¦ç¿’ã‚’æ´»ç”¨ã—ãŸå¿œç”¨æŠ€è¡“ã§ã™ã€‚AI > æ©Ÿæ¢°å­¦ç¿’ > æ·±å±¤å­¦ç¿’ > ç”ŸæˆAIã¨ã„ã†åŒ…å«é–¢ä¿‚ã«ãªã£ã¦ã„ã¾ã™ã€‚"},
  {cat:"ãƒ­ãƒ¼ã‚«ãƒ«vsã‚¯ãƒ©ã‚¦ãƒ‰",q:"ã‚¯ãƒ©ã‚¦ãƒ‰AIã®æœ€å¤§ã®ãƒªã‚¹ã‚¯ã¨ã—ã¦æœ€ã‚‚é©åˆ‡ãªã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",opts:["å‡¦ç†é€Ÿåº¦ãŒé…ã„","å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ãŒå¤–éƒ¨ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹æƒ…å ±æ¼æ´©ãƒªã‚¹ã‚¯","ä½¿ãˆã‚‹æ©Ÿèƒ½ãŒå°‘ãªã„","ç”»é¢ãŒè¦‹ã¥ã‚‰ã„"],ans:1,exp:"ã‚¯ãƒ©ã‚¦ãƒ‰AIã«å…¥åŠ›ã—ãŸãƒ‡ãƒ¼ã‚¿ã¯å¤–éƒ¨ã®ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã¾ã™ã€‚æ©Ÿå¯†æƒ…å ±ãƒ»å€‹äººæƒ…å ±ãƒ»å–¶æ¥­ç§˜å¯†ãªã©ãŒæ¼æ´©ã™ã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚"},
  {cat:"ãƒ­ãƒ¼ã‚«ãƒ«vsã‚¯ãƒ©ã‚¦ãƒ‰",q:"ãƒ­ãƒ¼ã‚«ãƒ«AIï¼ˆãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆLLMï¼‰ã®æœ€å¤§ã®ãƒ¡ãƒªãƒƒãƒˆã¯ã©ã‚Œã‹ã€‚",opts:["å¸¸ã«æœ€æ–°ãƒ¢ãƒ‡ãƒ«ãŒä½¿ãˆã‚‹","ãƒ‡ãƒ¼ã‚¿ãŒå¤–éƒ¨ã«é€ä¿¡ã•ã‚Œãšç¤¾å†…ã§å®Œçµã™ã‚‹","è¨­å®šãŒä¸€åˆ‡ä¸è¦","ç„¡æ–™ã§ä½¿ãˆã‚‹"],ans:1,exp:"ãƒ­ãƒ¼ã‚«ãƒ«AIã¯è‡ªç¤¾ã®ã‚µãƒ¼ãƒãƒ¼ã‚„PCã§å‹•ä½œã™ã‚‹ãŸã‚ã€å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ãŒå¤–éƒ¨ã«é€ä¿¡ã•ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã«ã‚ˆã‚Šæƒ…å ±æ¼æ´©ãƒªã‚¹ã‚¯ã‚’ã»ã¼ã‚¼ãƒ­ã«ã§ãã¾ã™ã€‚"},
  {cat:"ãƒ­ãƒ¼ã‚«ãƒ«vsã‚¯ãƒ©ã‚¦ãƒ‰",q:"ã‚¯ãƒ©ã‚¦ãƒ‰AIã®ã‚³ã‚¹ãƒˆç‰¹æ€§ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",opts:["å›ºå®šè²»ã®ã¿","å®Œå…¨ç„¡æ–™","å¾“é‡èª²é‡‘åˆ¶ã§åˆ©ç”¨é‡ãŒå¢—ãˆã‚‹ã»ã©ã‚³ã‚¹ãƒˆãŒå¢—å¤§ã™ã‚‹","åˆæœŸè²»ç”¨ã®ã¿"],ans:2,exp:"ã‚¯ãƒ©ã‚¦ãƒ‰AIã¯å¾“é‡èª²é‡‘åˆ¶ï¼ˆä½¿ã£ãŸåˆ†ã ã‘èª²é‡‘ï¼‰ãŒå¤šãã€ä¼æ¥­ã§å¤§é‡åˆ©ç”¨ã™ã‚‹ã¨æœˆæ•°åã€œæ•°ç™¾ä¸‡å††ã«ãªã‚‹ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚"},
  {cat:"ãƒ­ãƒ¼ã‚«ãƒ«vsã‚¯ãƒ©ã‚¦ãƒ‰",q:"ãƒ­ãƒ¼ã‚«ãƒ«AIãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãªã—ã§å‹•ä½œã§ãã‚‹ç†ç”±ã¯ã©ã‚Œã‹ã€‚",opts:["è¡›æ˜Ÿé€šä¿¡ã‚’ä½¿ã£ã¦ã„ã‚‹ã‹ã‚‰","ã™ã¹ã¦ã®å‡¦ç†ãŒãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³ä¸Šã§å®Œçµã™ã‚‹ã‹ã‚‰","ã‚¯ãƒ©ã‚¦ãƒ‰ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒã‚ã‚‹ã‹ã‚‰","Wi-FiãŒè‡ªå‹•æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ã‹ã‚‰"],ans:1,exp:"ãƒ­ãƒ¼ã‚«ãƒ«AIã¯ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã¨è¨ˆç®—å‡¦ç†ãŒã™ã¹ã¦æ‰‹å…ƒã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã§å®Œçµã™ã‚‹ãŸã‚ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒä¸è¦ã§ã™ã€‚é€šä¿¡éšœå®³ã®å½±éŸ¿ã‚‚å—ã‘ã¾ã›ã‚“ã€‚"},
  {cat:"ãƒ­ãƒ¼ã‚«ãƒ«vsã‚¯ãƒ©ã‚¦ãƒ‰",q:"æ¬¡ã®ã†ã¡ã€ãƒ­ãƒ¼ã‚«ãƒ«AIãŒæœ€ã‚‚å‘ã„ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¯ã©ã‚Œã‹ã€‚",opts:["æ—…è¡Œå…ˆã®è¦³å…‰æƒ…å ±ã‚’èª¿ã¹ãŸã„","æ‚£è€…æƒ…å ±ã‚’å«ã‚€åŒ»ç™‚æ–‡æ›¸ã®ä½œæˆã‚’è‡ªå‹•åŒ–ã—ãŸã„","å‹äººã«çµµæ–‡å­—ã‚’é€ã‚ŠãŸã„","å¤©æ°—äºˆå ±ã‚’ç¢ºèªã—ãŸã„"],ans:1,exp:"æ‚£è€…æƒ…å ±ã¯å€‹äººæƒ…å ±ä¿è­·æ³•ã§å³æ ¼ã«ç®¡ç†ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚å¤–éƒ¨é€ä¿¡ãƒªã‚¹ã‚¯ã®ãªã„ãƒ­ãƒ¼ã‚«ãƒ«AIãŒæœ€é©ã§ã™ã€‚ã‚¯ãƒ©ã‚¦ãƒ‰AIã¸ã®å…¥åŠ›ã¯æƒ…å ±æ¼æ´©ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚"},
  {cat:"ãƒ­ãƒ¼ã‚«ãƒ«vsã‚¯ãƒ©ã‚¦ãƒ‰",q:"ãƒ­ãƒ¼ã‚«ãƒ«AIã®å°å…¥ã‚³ã‚¹ãƒˆç‰¹æ€§ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",opts:["å®Œå…¨ç„¡æ–™","åˆæœŸã®GPUè³¼å…¥è²»ã¯ã‹ã‹ã‚‹ãŒç¶™ç¶šçš„ãªAPIè²»ç”¨ã¯ç™ºç”Ÿã—ãªã„","æ¯æœˆã®åˆ©ç”¨æ–™é‡‘ãŒè†¨ã‚‰ã‚€","å›½ã¸ã®è¨±å¯ç”³è«‹è²»ç”¨ãŒã‹ã‹ã‚‹"],ans:1,exp:"ãƒ­ãƒ¼ã‚«ãƒ«AIã¯åˆæœŸã®GPUç­‰ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢è³¼å…¥è²»ãŒã‹ã‹ã‚Šã¾ã™ãŒã€ãã®å¾Œã®ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚³ã‚¹ãƒˆã¯é›»æ°—ä»£ãƒ»ä¿å®ˆè²»ç¨‹åº¦ã§ã™ã€‚ã‚¯ãƒ©ã‚¦ãƒ‰APIã®ã‚ˆã†ãªç¶™ç¶šèª²é‡‘ã¯ç™ºç”Ÿã—ã¾ã›ã‚“ã€‚"},
  {cat:"ã‚¯ãƒ©ã‚¦ãƒ‰AIæ¯”è¼ƒ",q:"ChatGPTã‚’é–‹ç™ºã—ã¦ã„ã‚‹ä¼æ¥­ã¯ã©ã‚Œã‹ã€‚",opts:["Google","Microsoft","OpenAI","Meta"],ans:2,exp:"ChatGPTã¯OpenAIç¤¾ãŒé–‹ç™ºã—ãŸç”ŸæˆAIãƒãƒ£ãƒƒãƒˆã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚Microsoftã¯OpenAIã®ä¸»è¦æŠ•è³‡å®¶ã§ã‚ã‚Šã€Bingã‚„Copilotã«GPTæŠ€è¡“ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚"},
  {cat:"ã‚¯ãƒ©ã‚¦ãƒ‰AIæ¯”è¼ƒ",q:"Claudeã‚’é–‹ç™ºã—ã¦ã„ã‚‹ä¼æ¥­ã¯ã©ã‚Œã‹ã€‚",opts:["OpenAI","Anthropic","Google","Amazon"],ans:1,exp:"Claudeã¯AnthropicãŒé–‹ç™ºã—ãŸç”ŸæˆAIã§ã™ã€‚å®‰å…¨æ€§ã‚’é‡è¦–ã—ãŸè¨­è¨ˆãŒç‰¹å¾´ã§ã€Constitutional AIã¨ã„ã†ç‹¬è‡ªã®å®‰å…¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚"},
  {cat:"ã‚¯ãƒ©ã‚¦ãƒ‰AIæ¯”è¼ƒ",q:"Geminiã¯ã©ã®Googleè£½å“ã¨é€£æºãŒå¼·ã„ã‹ã€‚",opts:["Google Chrome","Google Workspaceï¼ˆGmailãƒ»Docsãƒ»Sheetsç­‰ï¼‰","Google Maps","Google Chrome OS"],ans:1,exp:"Geminiã¯Google Workspaceï¼ˆGmailãƒ»Google Docsãƒ»Google Sheetsç­‰ï¼‰ã¨ã®çµ±åˆãŒé€²ã‚“ã§ãŠã‚Šã€ãƒ“ã‚¸ãƒã‚¹å‘ã‘ã«å¼·åŠ›ãªé€£æºæ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚"},
  {cat:"ã‚¯ãƒ©ã‚¦ãƒ‰AIæ¯”è¼ƒ",q:"Microsoft Copilotã¯ã©ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®AIæ©Ÿèƒ½ã¨ã—ã¦æä¾›ã•ã‚Œã¦ã„ã‚‹ã‹ã€‚",opts:["Adobeè£½å“","Microsoft 365ï¼ˆWordãƒ»Excelãƒ»Teamsç­‰ï¼‰","Appleè£½å“","Google Workspace"],ans:1,exp:"Microsoft Copilotã¯Wordãƒ»Excelãƒ»PowerPointãƒ»Teamsãƒ»Outlookãªã©ã€Microsoft 365è£½å“ç¾¤ã«çµ±åˆã•ã‚ŒãŸAIæ©Ÿèƒ½ã¨ã—ã¦æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚"},
  {cat:"ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨",q:"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã®èª¬æ˜ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",opts:["AIã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚’è¨­è¨ˆã™ã‚‹ã“ã¨","AIã‹ã‚‰æœ›ã‚€å›ç­”ã‚’å¼•ãå‡ºã™ãŸã‚ã®æŒ‡ç¤ºæ–‡ã®æ›¸ãæ–¹ãƒ»æŠ€è¡“","AIã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä¿®æ­£ã™ã‚‹ã“ã¨","AIã‚µãƒ¼ãƒãƒ¼ã‚’ç®¡ç†ã™ã‚‹ã“ã¨"],ans:1,exp:"ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã¨ã¯ã€AIã«æœ›ã‚€å›ç­”ã‚’å¼•ãå‡ºã™ãŸã‚ã®æŒ‡ç¤ºæ–‡ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã®æ›¸ãæ–¹ãƒ»è¨­è¨ˆæŠ€è¡“ã®ã“ã¨ã§ã™ã€‚ã€Œè‰¯ã„è³ªå•ã®ä»•æ–¹ã€ã¨ã‚‚è¨€ãˆã¾ã™ã€‚"},
  {cat:"ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨",q:"AIã‚’æ¥­å‹™ã§åˆ©ç”¨ã™ã‚‹éš›ã€å…¥åŠ›ã—ã¦ã¯ã„ã‘ãªã„æƒ…å ±ã¨ã—ã¦æœ€ã‚‚é©åˆ‡ãªã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",opts:["å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ãƒ‹ãƒ¥ãƒ¼ã‚¹è¨˜äº‹","é¡§å®¢ã®å€‹äººæƒ…å ±ãƒ»æ©Ÿå¯†ã®ç¤¾å†…ãƒ‡ãƒ¼ã‚¿","ä¸€èˆ¬çš„ãªæ–™ç†ãƒ¬ã‚·ãƒ”","å…¬é–‹ã•ã‚Œã¦ã„ã‚‹æ­´å²çš„äº‹å®Ÿ"],ans:1,exp:"é¡§å®¢ã®å€‹äººæƒ…å ±ã‚„ç¤¾å†…æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒ©ã‚¦ãƒ‰AIã«å…¥åŠ›ã™ã‚‹ã¨ã€æƒ…å ±æ¼æ´©ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚å…¥åŠ›å‰ã«ã€Œã“ã®æƒ…å ±ã‚’å¤–éƒ¨ã«é€ã£ã¦ã„ã„ã‹ã€ã‚’å¿…ãšç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚"},
  {cat:"ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨",q:"AIãŒç”Ÿæˆã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‘—ä½œæ¨©ã«é–¢ã™ã‚‹èª¬æ˜ã¨ã—ã¦ç¾æ™‚ç‚¹ã§æœ€ã‚‚é©åˆ‡ãªã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",opts:["AIãŒç”Ÿæˆã—ãŸã‚‚ã®ã¯ã™ã¹ã¦è‘—ä½œæ¨©ãƒ•ãƒªãƒ¼ã§è‡ªç”±ã«ä½¿ãˆã‚‹","è‘—ä½œæ¨©ã®æ‰±ã„ã¯æ³•æ•´å‚™é€”ä¸Šã§ã‚ã‚Šã€åˆ©ç”¨ã«ã¯æ³¨æ„ãŒå¿…è¦","AIãŒç”Ÿæˆã—ãŸã‚‚ã®ã¯è‡ªå‹•çš„ã«ä¼šç¤¾ã®è‘—ä½œç‰©ã«ãªã‚‹","AIãŒç”Ÿæˆã—ãŸã‚‚ã®ã¯OpenAIã®è‘—ä½œç‰©ã«ãªã‚‹"],ans:1,exp:"AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‘—ä½œæ¨©ã¯ä¸–ç•Œçš„ã«æ³•æ•´å‚™ãŒè¿½ã„ã¤ã„ã¦ã„ãªã„åˆ†é‡ã§ã™ã€‚å…ƒã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã¨ã®é¡ä¼¼æ€§ã‚„å„å›½ã®æ³•å¾‹ã‚’è€ƒæ…®ã—ã€å•†ç”¨åˆ©ç”¨ã«ã¯æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚"},
  {cat:"ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨",q:"AIã®å›ç­”ã‚’æ¥­å‹™ã§æ´»ç”¨ã™ã‚‹éš›ã®æœ€ã‚‚é©åˆ‡ãªå§¿å‹¢ã¯ã©ã‚Œã‹ã€‚",opts:["AIã®å›ç­”ã‚’ãã®ã¾ã¾å…¨ã¦ä¿¡é ¼ã—ã¦ä½¿ç”¨ã™ã‚‹","AIã®å›ç­”ã‚’å‚è€ƒã«ã—ãªãŒã‚‰äººé–“ãŒå¿…ãšå†…å®¹ã‚’ç¢ºèªãƒ»åˆ¤æ–­ã™ã‚‹","AIã®å›ç­”ã¯ä½¿ã‚ãªã„","AIã®å›ç­”ã«åè«–ã—ç¶šã‘ã‚‹"],ans:1,exp:"AIã¯ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆèª¤æƒ…å ±ã®ç”Ÿæˆï¼‰ã‚’èµ·ã“ã™ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ç‰¹ã«é‡è¦ãªæ¥­å‹™åˆ¤æ–­ãƒ»äº‹å®Ÿç¢ºèªã«ãŠã„ã¦ã¯ã€äººé–“ãŒå¿…ãšãƒ•ã‚¡ã‚¯ãƒˆãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†ã“ã¨ãŒé‡è¦ã§ã™ã€‚"},
  {cat:"ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨",q:"ã€Œãƒ­ãƒ¼ã‚«ãƒ«AIã¨ã‚¯ãƒ©ã‚¦ãƒ‰AIã‚’ç”¨é€”ã«å¿œã˜ã¦ä½¿ã„åˆ†ã‘ã‚‹ã€å ´åˆã€æœ€ã‚‚åˆç†çš„ãªåˆ¤æ–­åŸºæº–ã¯ã©ã‚Œã‹ã€‚",opts:["ã‚¯ãƒ©ã‚¦ãƒ‰AIã¯å¸¸ã«æ‚ªã„ã®ã§ä½¿ã‚ãªã„","æ©Ÿå¯†æƒ…å ±ã¯ãƒ­ãƒ¼ã‚«ãƒ«AIã€å…¬é–‹æƒ…å ±ã®èª¿æŸ»ã¯ã‚¯ãƒ©ã‚¦ãƒ‰AIã¨ä½¿ã„åˆ†ã‘ã‚‹","ãƒ­ãƒ¼ã‚«ãƒ«AIã¯å¸¸ã«æ‚ªã„ã®ã§ä½¿ã‚ãªã„","ã©ã¡ã‚‰ã‚‚åŒã˜ãªã®ã§è€ƒãˆãªãã¦ã‚ˆã„"],ans:1,exp:"ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¯ã€Œæ©Ÿå¯†æƒ…å ±ãƒ»å€‹äººæƒ…å ±ã‚’æ‰±ã†æ¥­å‹™ã¯ãƒ­ãƒ¼ã‚«ãƒ«AIã€ä¸€èˆ¬çš„ãªæƒ…å ±åé›†ãƒ»ã‚¢ã‚¤ãƒ‡ã‚¢å‡ºã—ã«ã¯ã‚¯ãƒ©ã‚¦ãƒ‰AIã€ã¨ã„ã†ã‚ˆã†ã«ç”¨é€”åˆ¥ã«ä½¿ã„åˆ†ã‘ã‚‹ã“ã¨ã§ã™ã€‚"},
];

let currentQ=0, answers=new Array(20).fill(null), startTime=null, timerInterval=null, timeLeft=30*60;

function startExam(){
  document.getElementById('screenStart').classList.remove('active');
  document.getElementById('screenExam').classList.add('active');
  document.getElementById('progressBar').style.display='flex';
  document.getElementById('timerLabel').style.display='inline';
  document.getElementById('timer').style.display='inline';
  startTime=Date.now(); buildNav(); renderQuestion(); startTimer();
}
function startTimer(){
  timerInterval=setInterval(()=>{
    timeLeft--;updateTimerDisplay();
    if(timeLeft<=0){clearInterval(timerInterval);submitExam();}
  },1000);
}
function updateTimerDisplay(){
  const m=Math.floor(timeLeft/60).toString().padStart(2,'0');
  const s=(timeLeft%60).toString().padStart(2,'0');
  const el=document.getElementById('timer');
  el.textContent=`${m}:${s}`;
  el.className='timer';
  if(timeLeft<=120)el.classList.add('danger');
  else if(timeLeft<=300)el.classList.add('warning');
}
function buildNav(){
  let html='<div class="q-nav-label">å•é¡Œä¸€è¦§</div>';
  for(let i=0;i<20;i++) html+=`<button class="q-dot" id="dot${i}" onclick="jumpTo(${i})">${i+1}</button>`;
  document.getElementById('qNav').innerHTML=html;
}
function updateNav(){
  for(let i=0;i<20;i++){
    const d=document.getElementById(`dot${i}`);
    d.className='q-dot';
    if(i===currentQ)d.classList.add('current');
    else if(answers[i]!==null)d.classList.add('answered');
  }
  document.getElementById('progressFill').style.width=`${(answers.filter(a=>a!==null).length/20)*100}%`;
}
function renderQuestion(){
  const q=QUESTIONS[currentQ]; const s=answers[currentQ];
  const keys=['A','B','C','D'];
  let opts='';
  q.opts.forEach((o,i)=>{opts+=`<div class="option${s===i?' selected':''}" onclick="selectAnswer(${i})"><span class="option-key">${keys[i]}</span><span class="option-text">${o}</span></div>`;});
  document.getElementById('questionCard').innerHTML=`<div class="q-meta"><span class="q-num">å•é¡Œ ${currentQ+1} / 20</span><span class="q-category">${q.cat}</span></div><div class="q-text">${q.q}</div><div class="options">${opts}</div>`;
  document.getElementById('qCount').textContent=`${answers.filter(a=>a!==null).length} / 20 å•å›ç­”æ¸ˆã¿`;
  const last=currentQ===19;
  document.getElementById('btnNext').style.display=last?'none':'inline-block';
  document.getElementById('btnSubmit').style.display=last?'inline-block':'none';
  document.getElementById('btnPrev').disabled=currentQ===0;
  updateNav();
}
function selectAnswer(i){answers[currentQ]=i;renderQuestion();}
function nextQ(){if(currentQ<19){currentQ++;renderQuestion();}}
function prevQ(){if(currentQ>0){currentQ--;renderQuestion();}}
function jumpTo(i){currentQ=i;renderQuestion();}
function confirmSubmit(){
  const u=answers.filter(a=>a===null).length;
  if(u>0&&!confirm(`${u}å•ãŒæœªå›ç­”ã§ã™ã€‚ã“ã®ã¾ã¾æå‡ºã—ã¾ã™ã‹ï¼Ÿ`))return;
  submitExam();
}
function submitExam(){
  clearInterval(timerInterval);
  const elapsed=Math.floor((Date.now()-startTime)/1000);
  const em=Math.floor(elapsed/60).toString().padStart(2,'0');
  const es=(elapsed%60).toString().padStart(2,'0');
  let correct=0;
  QUESTIONS.forEach((q,i)=>{if(answers[i]===q.ans)correct++;});
  const rate=Math.round((correct/20)*100);
  const pass=correct>=14;
  document.getElementById('screenExam').classList.remove('active');
  document.getElementById('screenResult').classList.add('active');
  document.getElementById('timer').style.display='none';
  document.getElementById('timerLabel').style.display='none';
  document.getElementById('progressBar').style.display='none';
  const circle=document.getElementById('resultCircle');
  circle.className=`result-circle ${pass?'pass':'fail'}`;
  const sc=document.getElementById('resultScore');
  sc.className=`result-score ${pass?'pass':'fail'}`;
  sc.textContent=correct;
  const v=document.getElementById('resultVerdict');
  v.className=`result-verdict ${pass?'pass':'fail'}`;
  v.textContent=pass?'âœ… åˆæ ¼':'âŒ ä¸åˆæ ¼';
  document.getElementById('resultMsg').textContent=pass
    ?`ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼æ¬¡ã¯ChatGPTæ´»ç”¨åˆç´šã¾ãŸã¯PrivateLLMæ§‹ç¯‰å£«3ç´šã«æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†ã€‚`
    :`ã‚ã¨${1-correct}å•æ­£è§£ã§åˆæ ¼ã§ã™ã€‚è§£èª¬ã‚’èª­ã‚“ã§å¾©ç¿’ã—ã€ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†ï¼`;
  document.getElementById('bdCorrect').textContent=correct;
  document.getElementById('bdRate').textContent=`${rate}%`;
  document.getElementById('bdTime').textContent=`${em}:${es}`;
  if(pass){
    document.getElementById('nextStep').innerHTML=`<div class="next-badge">ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼š<a href="exam-chatgpt.html" style="color:var(--gold);font-weight:700;">ChatGPTæ´»ç”¨åˆç´š</a> ã¾ãŸã¯ <a href="exam-level3.html" style="color:var(--cyan);font-weight:700;">PrivateLLMæ§‹ç¯‰å£«3ç´š</a> ã«æŒ‘æˆ¦ï¼</div>`;
  }
  const keys=['A','B','C','D'];
  let html='';
  QUESTIONS.forEach((q,i)=>{
    const u=answers[i]; const ok=u===q.ans;
    html+=`<div class="review-item ${ok?'correct':'incorrect'}"><div class="review-q"><strong>Q${i+1}.</strong> ${q.q}</div><div class="review-answers"><div class="review-your ${ok?'ok':''}">ã‚ãªãŸã®å›ç­”ï¼š${u!==null?keys[u]+'ï¼'+q.opts[u]:'æœªå›ç­”'} ${ok?'âœ…':'âŒ'}</div>${!ok?`<div class="review-correct">æ­£è§£ï¼š${keys[q.ans]}ï¼${q.opts[q.ans]}</div>`:''}</div><div class="review-explain">ğŸ’¡ ${q.exp}</div></div>`;
  });
  document.getElementById('reviewList').innerHTML=html;
  window.scrollTo(0,0);

  // åˆæ ¼æ™‚ï¼šèªå®šè¨¼ç•ªå·ç™ºè¡Œ + certSectionè¡¨ç¤º
  if(pass){
    const certId = generateCertId();
    document.getElementById('certIdText').textContent = certId;
    if(document.getElementById('miniId')) document.getElementById('miniId').textContent = certId;
    document.getElementById('certSection').style.display = 'block';
    if(document.getElementById('upsellSection')) document.getElementById('upsellSection').style.display = 'block';
    window._certId = certId;
    window._certScore = correct;
    window._certRate = rate;
    const gradeCode = 'AIB';
    preRegisterToGAS(certId, gradeCode, correct, 20);
  }
}
function retryExam(){
  answers=new Array(20).fill(null);currentQ=0;timeLeft=30*60;
  document.getElementById('screenResult').classList.remove('active');
  document.getElementById('screenExam').classList.add('active');
  document.getElementById('timer').style.display='inline';
  document.getElementById('timerLabel').style.display='inline';
  document.getElementById('progressBar').style.display='flex';
  buildNav();renderQuestion();startTimer();
}
</script>

<script>
// ===== æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰åˆ¤å®š =====
const IS_HONBAN = new URLSearchParams(window.location.search).get('mode') === 'honban';

window.addEventListener('DOMContentLoaded', () => {
  if (IS_HONBAN) {
    const banner = document.createElement('div');
    banner.style.cssText = 'background:rgba(232,184,75,0.12);border:1px solid rgba(232,184,75,0.4);border-radius:10px;padding:0.8rem 1.2rem;margin-bottom:1rem;text-align:center;font-size:0.85rem;color:var(--gold);font-weight:700;';
    banner.innerHTML = 'ğŸ† æœ¬ç•ªå—é¨“ãƒ¢ãƒ¼ãƒ‰ â€” åˆæ ¼å¾Œã«ãƒ¡ãƒ¼ãƒ«ãƒ»LINEã®å…¥åŠ›ãŒå¿…è¦ã§ã™';
    const screen = document.getElementById('screenStart');
    if (screen) screen.insertBefore(banner, screen.firstChild);
  }
});

const GAS_URL = "https://script.google.com/macros/s/AKfycbw1E931BEVOLqSPyX_LdS6aTuw997k8t9d639Tfvcz5EUjcsrkmokJ2RBdnFWNF-brT/exec";

function generateCertId() {
  const now = new Date();
  const year = now.getFullYear();
  const seq = String(Math.floor(Math.random() * 9000) + 1000);
  return `PAPA-AIB-${year}-${seq}`;
}

function getPreContact() {
  return {
    email: document.getElementById('preEmail')?.value.trim() || '',
    line:  document.getElementById('preLine')?.value.trim() || ''
  };
}

async function sendContactToGAS() {
  const certId = window._certId;
  const email  = document.getElementById('postEmail').value.trim();
  const line   = document.getElementById('postLine').value.trim();
  if (!email && !line) {
    document.getElementById('contactError').textContent = 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯LINE IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
    document.getElementById('contactError').style.display = 'block';
    return;
  }
  document.getElementById('contactError').style.display = 'none';
  try {
    const url = GAS_URL + "?action=saveContact"
      + "&cert_id=" + encodeURIComponent(certId)
      + "&email="   + encodeURIComponent(email)
      + "&line_id=" + encodeURIComponent(line);
    const img = new Image(); img.src = url;
    fetch(url, {mode:"no-cors"}).catch(()=>{});
    document.getElementById('contactSent').style.display = 'block';
    window._contactEmail = email;
    window._contactLine  = line;
  } catch(e) {
    document.getElementById('contactSent').style.display = 'block';
  }
}

async function preRegisterToGAS(certId, gradeCode, score, total) {
  try {
    const rate = Math.round((score / total) * 100);
    const url = GAS_URL + "?action=preRegister"
      + "&cert_id="    + encodeURIComponent(certId)
      + "&grade_code=" + encodeURIComponent(gradeCode)
      + "&score=" + score
      + "&rate="  + rate;
    const img = new Image(); img.src = url;
    fetch(url, {mode:"no-cors"}).catch(()=>{});
    const pre = getPreContact();
    if (pre.email || pre.line) {
      const cUrl = GAS_URL + "?action=saveContact"
        + "&cert_id=" + encodeURIComponent(certId)
        + "&email="   + encodeURIComponent(pre.email)
        + "&line_id=" + encodeURIComponent(pre.line)
        + "&stage=pre";
      const img2 = new Image(); img2.src = cUrl;
      if (pre.email) document.getElementById('postEmail').value = pre.email;
      if (pre.line)  document.getElementById('postLine').value  = pre.line;
    }
    console.log("GASäº‹å‰ç™»éŒ²:", certId);
  } catch(e) {
    console.warn("GASç™»éŒ²ã‚¨ãƒ©ãƒ¼:", e);
  }
}

function goStripe() {
  const certId = window._certId || document.getElementById('certIdText')?.textContent || '';
  const email  = window._contactEmail || document.getElementById('postEmail')?.value || '';
  let url = 'https://buy.stripe.com/7sYcN4air0K84900XEb7y02';
  if (email)  url += '?prefilled_email=' + encodeURIComponent(email);
  if (certId) url += (email ? '&' : '?') + 'client_reference_id=' + encodeURIComponent(certId);
  window.location.href = url;
}
</script>
</body>
</html>
